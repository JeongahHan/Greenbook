<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>아이디찾기</title>
<link rel="stylesheet" href="/css/searchId.css">
<script src="/js/jquery-3.7.0.js"></script>
</head>
<body>
    <div class="wrap">
        <div class="title">
            <h1>ID 찾기</h1>
        </div>
        <div class="content">
            <div class="sub-title">
                <span>이메일로 찾기</span>
                <hr>
            </div>
            <div class="input-box">
                <label for="memberName">이름</label>
                <input type="text" name="memberName" id="memberName" class="input-form" placeholder="이름을 입력해주세요" autocomplete="off">
                <label for="memberEmail">이메일</label>
                <input type="text" name="memberEmail" id="memberEmail" class="input-form" placeholder="가입 시 기재했던 이메일을 입력해주세요" autocomplete="off">
            </div>
            <div class="btn-box">
                <button type="button" class="btn bc2" id="btn">확인</button>
            </div>
        </div>
    </div>
    <div class="modal-wrap">
        <div class="search-modal">
            <div class="modal-top">
                <h2>ID 찾기</h2>
            </div>
            <div class="modal-content">
				<p id="searchId"></p>
				<button type="button" class="btn bc2" id="close">닫기</button>
            </div>
        </div>
    </div>
    <script>
    	$("#btn").on("click", function(){
			const memberName = $("#memberName").val();
			const memberEmail = $("#memberEmail").val();
    		$.ajax({
    			url : "/member/searchId",
    			type : "post",
    			data : {memberName : memberName, memberEmail : memberEmail},
    			success : function(data) {
					if(data == ""){
						$("#searchId").text("일치하는 회원 정보가 없습니다.");
					}else{
						$("#searchId").text("아이디는 "+data+"입니다.");
					}
    				//모달 열기
    				$(".modal-wrap").css("display","flex");
    				//닫기 버튼 클릭 시 모달 닫기
    				$("#close").on("click", function(){
    					$(".modal-wrap").css("display","none");
    				});
    			}
    		});
    	});
    </script>
</body>
</html>