<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>ë‚´ê°€ ì“´ ê²Œì‹œë¬¼</title>
<link rel="stylesheet" href="/css/mypage.css">
</head>
<body>
	<th:block th:include="common/header"></th:block>
	<div class="page-content">
		<div class="page-title">ë§ˆì´í˜ì´ì§€</div>
		<th:block th:include="mypage/mypageMenu"></th:block>
		<div class="mypage-content-wrap">
			<div class="mypage-content-title">êµ¬ë§¤ìš”ì²­ í˜„í™©</div>
			
			<table class="mypage-tbl">
				<!-- 
				<tr class="mypageTr mypageTr-2" th:each="request : ${byRequestList}">
					<td th:text="${request.byRequestNo}"></td>
					<td><a href="@{/product/productDetail(productBoardNo=${product.productBoardNo})}" th:text="${p.productBoardTitle}"></a></td>
					<td th:text="${p.productAuthor}"></td>
					<td th:text="${p.productPrice}"></td>
					<td th:text="${p.productBoardWriter}"></td>
					<td th:text="${request.byRequestDate}"></td>
					<td><button class="post-btn byRequestBtn byRequestBc1" th:if="">ê±°ë˜í‰ê°€</button></td>
				</tr>
				 -->
			
				<tr class="mypageTr mypageTr-1">
					<th style="width:5%">ë²ˆí˜¸</th>
					<th style="width:30%">ì±…ì œëª©</th>
					<th style="width:20%">ì €ì</th>
					<th style="width:10%">ê°€ê²©</th>
					<th style="width:10%">íŒë§¤ì</th>
					<th style="width:15%">ìš”ì²­ ë‚ ì§œ</th>
					<th style="width:10%">ê±°ë˜í›„ê¸°</th>
				</tr>
					<tr class="mypageTr mypageTr-2" th:each="requestList, status : ${requestList}">
						<td th:text="${(reqPage-1)*10+status.count}"></td> <!-- <td th:text="${requestList.tradeNo}" style="display:none;"></td> -->
						<td th:text="${requestList.productBoardTitle}"></td>
						<td th:text="${requestList.productAuthor}"></td>
						<td><span th:text="${requestList.productPrice}"></span>ì›</td>
						<td th:text="${requestList.productBoardWriter}"></td>
						<td th:text="${requestList.tradeRequestDate}"></td>
						<td>
							<input type="hidden" class="grade" th:value="${requestList.grade}">
							<input type="hidden" class="productBoardWriter" th:value="${requestList.productBoardWriter}">
							<button class="post-btn byRequestBtn byRequestBc1" th:if="${requestList.tradeCompleteDone=='1'}">ê±°ë˜í‰ê°€</button>
						</td>
						<!-- <td th:value="${requestList.tradeCompleteDone}"></td>  valueê°€ 0ì´ë©´ ë²„íŠ¼X, 1ì´ë©´ ë²„íŠ¼O -->
					</tr>
				<!-- 
					<td>100</td>
					<td>ëª¨ë“  ìˆœê°„ì´ ë„ˆì˜€ë‹¤</td>
					<td>í•˜íƒœì™„</td>
					<td>12000ì›</td>
					<td>user01</td>
					<td>2023-08-30</td>
					<td><button class="post-btn byRequestBtn byRequestBc1">ê±°ë˜í‰ê°€</button></td>
				</tr>
				 -->
				
				<!-- 
				ë‹´ê²¨ì˜¤ëŠ”ì •ë³´ë“¤
				Board(boardNo=103, boardTitle=ê²Œì‹œíŒ í…ŒìŠ¤íŠ¸103, boardContent=í…ŒìŠ¤íŠ¸ìš©, boardWriter=user01, boardRegDate=2023-08-22, boardReadCount=0, fileList=null)
				 -->
				 
				 <!-- ê±°ë˜í‰ê°€ ëª¨ë‹¬ -->
				 <div class="ass-modal-wrap">
				 	<div class="ass-modal">
				 		<div class="modal-title">
				 			<h3>ê±°ë˜ í‰ê°€</h3>
				 			<hr>
				 		</div>
				 		<div class="ass-btn">
				 			<span class="seller" style="font-weight: 900; text-decoration: underline;"></span><span> ë‹˜ê³¼ì˜ ê±°ë˜ê°€ ì–´ë– ì…¨ë‚˜ìš”?</span>
				 		</div>
				 		<div class="ass-btn">
				 			<span>ì‹ ë¢°ë„ &nbsp
				 				<a class="good-btn">ğŸ‘</a>&nbsp
				 				<a class="bad-btn">ğŸ‘</a>
				 			</span>
				 			<!-- <span class="seller" style="font-weight: 900;"></span><span> ë‹˜ê³¼ì˜ ê±°ë˜ê°€ <button>ë¶ˆë§Œì¡±</button>ìŠ¤ëŸ¬ì› ì–´ìš”! ğŸ˜·</span> -->
				 		</div>
				 	</div>
				 </div>
				 
				 <!-- ê±°ë˜í‰ê°€ ëª¨ë‹¬ì˜ ëª¨ë‹¬ -->
				 
				 <!-- ì‹ ë¢°ë„ ì˜¬ë¦¬ê¸°ë²„íŠ¼ -->
				 <div class="result-wrap1">
				 	<div class="result1">
				 		<div class="ass-btn">
				 			<span class="seller" style="font-weight: 900; text-decoration: underline;"></span><span> ë‹˜ì˜ ì‹ ë¢°ë„ë¥¼ ì˜¬ë¦¬ì‹œê² ìŠµë‹ˆê¹Œ? &nbsp</span>
				 			<a><button class="btnSet yes-btn1"> âœ”ï¸ </button></a>&nbsp
				 			<button class="btnSet no-btn1"> âŒ </button>
				 		</div>
				 	</div>
				 </div>
				 
				  <!-- ì‹ ë¢°ë„ ë‚´ë¦¬ê¸°ë²„íŠ¼ -->
 				 <div class="result-wrap2">
				 	<div class="result2">
				 		<div class="ass-btn">
				 			<span class="seller" style="font-weight: 900; text-decoration: underline;"></span><span> ë‹˜ì˜ ì‹ ë¢°ë„ë¥¼ ë‚´ë¦¬ì‹œê² ìŠµë‹ˆê¹Œ? &nbsp</span>
				 			<a><button class="btnSet yes-btn2"> âœ”ï¸ </button></a>&nbsp
				 			<button class="btnSet no-btn2"> âŒ </button>
				 		</div>
				 	</div>
				 </div>
				 
			</table>
			<div id="pageNavi" th:utext="${pageNavi}"></div>
		
		
		</div>
	</div>
	<th:block th:include="common/footer"></th:block>

	<script>
	
		
		$(".post-btn").on("click",function(){
			const writer = $(this).prev().val();
			const grade = $(this).prev().prev().val();
			$(".ass-modal-wrap").css("display","flex");
			$(".seller").text(writer);
		});
		
		$(".good-btn").on("click",function(){
			$(".result-wrap1").css("display","flex");
		});
		
		$(".bad-btn").on("click",function(){
			$(".result-wrap2").css("display","flex");
		});
		
		$(".no-btn1").on("click",function(){
			$(this).parent().parent().parent().css("display","none");
		});
		
		$(".yes-btn1").on("click",function(){
			$(this).parent().parent().parent().parent().css("display","none");
			$(this).parent().parent().parent().parent().prev().css("display","none");
		});
		
		$(".no-btn2").on("click",function(){
			$(this).parent().parent().parent().css("display","none");
		});
		
		$(".yes-btn2").on("click",function(){
			$(this).parent().parent().parent().parent().css("display","none");
			$(this).parent().parent().parent().parent().prev().prev().css("display","none");
		});
		
		//ìª½ì§€ì“°ê¸° ì‹œì‘
		const memberId = $(".memberId").val();
		//ê²Œì‹œë¬¼ ì‘ì„±ìì—ê²Œ ìª½ì§€ ì“°ê¸°
		$(".ProductBoardWriter").on("click", function(){
			const receiver = $(this).text();
			if(receiver != memberId){
				//ìª½ì§€ì“°ê¸° ëª¨ë‹¬ ì—´ê¸°
				$(".sendMsg-modal-wrap").css("display","flex");
				//textarea ì´ˆê¸°í™”
				$("#sendMsgTextarea").val("");
				//ë°›ëŠ” ì‚¬ëŒ ë°ì´í„° ë„£ì–´ì£¼ê¸°
				$(".receiver").text(receiver);
				$("#receiver").val(receiver);
			}
		});
		
	</script>
	
</body>
</html>